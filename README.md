# CVE-2021-32644
위 취약점은 Ampache 4.4.3 이전 버전까지 영향을 주었던 XSS 취약점입니다. 

# 설치 및 실행 순서

#### 1. Ampache 설치
설치를 진행할 때, docker-compose.yml 파일에서 포트포워딩을 진행해주시기 바랍니다. 
<pre> $docker-compose up  </pre>

#### 2. Amapache 접속 
http://[web-server ip]:port/로 이동, 다음 문구는 무시합니다.
<pre> Directory / is not writable
Path /var/www/html/typo3 exists, but no file underneath it can be created.  </pre>




#### 구축 에러  

##### 아래와 같이 debconf에서 CLI로 몇가지 물어보는 사항을 자동화 하기 위해 debconf-utils를 설치하고 수정했습니다.
<pre>
debconf: unable to initialize frontend: Readline
debconf: (This frontend requires a controlling tty.)
debconf: falling back to frontend: Teletype
</pre>

<pre>
RUN apt-get install -y debconf-utils
RUN echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections
RUN apt-get install -y -q [package]
</pre>
www-data user로 실행되는 apache2서버 의 특성 상, www-data로 typo3 폴더를 생성하였습니다.

#####  호환되는 DB 버전은 아래와 같습니다. 
mysql image를 5.8버전으로 설정하였습니다.
<pre>
System Requirements 
For more information as well as installation instructions see the Installation guide.
Operating System	Linux, Windows or Mac, or common cloud infrastructure setups
Webserver	Apache httpd, Nginx, Microsoft IIS, Caddy Server
Supported Browsers	Chrome (latest)
Edge (latest)
Firefox (latest)
Internet Explorer >= 11
Safari (latest)
Database	MariaDB >= 10.0 <= 10.3
Microsoft SQL Server
MySQL >= 5.0 <= 5.7
PostgreSQL
SQLite
Hardware	RAM >= 256 MB
PHP	PHP >= 7.2 <= 7.4
</pre>

#####  mysql의 character-set에 문제가 있습니다.
mysql container에 command 옵션을 설정하였습니다.
<pre>
Invalid Charset
Your database uses character set "latin1", but only "utf8" is supported with TYPO3. You probably want to change this before proceeding.
</pre>
